---
layout: default
title: Works
permalink: /works/
---
<!-- ========================= -->
<!-- 0. ABOUT SECTION -->
<!-- ========================= -->
<section id="about-page">

  <div class="about-container">
    <img src="/assets/images/me.jpg" alt="Junduo Liu" class="about-photo">

    <div class="about-text">
      <h1>About Junduo Liu</h1>
      <p>
        Junduo(Toby) Liu is a game designer and filmmaker based in NYC. 
        His works navigate the space between the absurd and the sincere.
        Moving between fantasy and the real world, his practice explores how humor, grief, 
        and memory shape the ways we make sense of ourselves and the worlds we build.<br>
        <br>
        Junduo Liu holds a Bachelorâ€™s degree in Computer Science and Film Studies from Wesleyan University, and a Master of Fine Arts from the NYU Game Center.
      </p>
    </div>
  </div>

</section>

<!-- ========================= -->
<!-- 1. GAMES SECTION -->
<!-- ========================= -->
<section id="games-page">
  <div class="floating-wrapper"></div>
  <div id="floating-container">
    {% for game in site.games %}
      <a href="{{ game.game_url }}" 
         target="_blank" 
         class="floating-thumb" 
         data-title="{{ game.title }}" 
         data-description="{{ game.description }}">
        <img src="{{ game.thumbnail | relative_url }}" alt="{{ game.title }}">
      </a>
    {% endfor %}
  </div>
  <div id="game-tooltip" class="tooltip"></div>
</section>


<!-- ========================= -->
<!-- 2. FILMS SECTION -->
<!-- ========================= -->
<section id="films-page">
  <div class="film-gallery">
    {% for film in site.films %}
      <div class="film-card">
        <div class="film-player">
          <iframe
            src="https://player.vimeo.com/video/{{ film.video_url | split: '/' | last }}"
            frameborder="0"
            allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share"
            allowfullscreen>
          </iframe>
        </div>
        <h3 class="film-title">{{ film.title }}</h3>
        <p class="film-description">{{ film.description }}</p>
      </div>
    {% endfor %}
  </div>
</section>




<!-- ========================= -->
<!-- 3. PHOTOS SECTION -->
<!-- ========================= -->
<section id="photos-page">


  <div class="photos-container">
    {% for photo in site.photos %}
      <div class="photo-item">
        <img src="{{ photo.thumbnail | relative_url }}" alt="Photo">
      </div>
    {% endfor %}
  </div>
</section>


<script>
// Games Floating thumbs logic
const container = document.getElementById("floating-container");
const thumbs = document.querySelectorAll(".floating-thumb");
const tooltip = document.getElementById("game-tooltip");
const thumbStates = [];

function initializeThumbs() {
  const rect = container.getBoundingClientRect();
  const containerWidth = rect.width;
  const containerHeight = rect.height;

  thumbs.forEach((thumb, index) => {
    const img = thumb.querySelector("img");

    img.onload = () => {
      const imageWidth = img.offsetWidth;
      const imageHeight = img.offsetHeight;
      const maxX = containerWidth - imageWidth - 40;
      const maxY = containerHeight - imageHeight - 40;

      const x = Math.random() * maxX;
      const y = Math.random() * maxY;

      thumbStates[index] = {
        x,
        y,
        dx: (Math.random() - 0.5) * 3,
        dy: (Math.random() - 0.5) * 3,
        w: imageWidth,
        h: imageHeight,
        paused: false, // ðŸ‘ˆ individual pause flag
      };

      thumb.style.transform = `translate(${x}px, ${y}px)`;
    };

    // Tooltip + individual pause
    thumb.addEventListener("mouseenter", () => {
    const title = thumb.dataset.title;
    const description = thumb.dataset.description;
    tooltip.innerHTML = `
      <div style="font-weight:600; font-size:1rem;">${title}</div>
      <div style="font-size:0.85rem; opacity:0.8; margin-top:2px;">${description}</div>
    `;
    tooltip.style.opacity = 1;

    if (thumbStates[index]) thumbStates[index].paused = true; // pause only this one
  });

  thumb.addEventListener("mousemove", (e) => {
    tooltip.style.top = e.clientY + 15 + "px";
    tooltip.style.left = e.clientX + 15 + "px";
  });

  thumb.addEventListener("mouseleave", () => {
    tooltip.style.opacity = 0;
    if (thumbStates[index]) thumbStates[index].paused = false; // resume motion
  });
  });
}

function animate() {
  const rect = container.getBoundingClientRect();
  const containerWidth = rect.width;
  const containerHeight = rect.height;

  thumbStates.forEach((state, index) => {
    if (!state || state.paused) return; // ðŸ‘ˆ skip paused ones

    state.x += state.dx;
    state.y += state.dy;

    if (state.x < 0 || state.x > containerWidth - state.w) state.dx *= -1;
    if (state.y < 0 || state.y > containerHeight - state.h) state.dy *= -1;

    thumbs[index].style.transform = `translate(${state.x}px, ${state.y}px)`;
  });

  requestAnimationFrame(animate);
}

initializeThumbs();
animate();



  // Films logic
  function playFilm(videoUrl, thumbWrapper) {
  const card = thumbWrapper.closest(".film-card");
  const playerContainer = card.querySelector(".film-player");
  
  // If a player already exists, toggle it off
  if (playerContainer.innerHTML.trim() !== "") {
    playerContainer.innerHTML = "";
    return;
  }

  // Remove any other open players
  document.querySelectorAll(".film-player").forEach(p => p.innerHTML = "");

  // Create iframe (supports Vimeo, YouTube, etc.)
  const iframe = document.createElement("iframe");
  iframe.src = videoUrl.replace("watch?v=", "embed/"); // handles YouTube-style URLs
  iframe.width = "100%";
  iframe.height = "400";
  iframe.frameBorder = "0";
  iframe.allow = "autoplay; fullscreen";
  iframe.allowFullscreen = true;
  playerContainer.appendChild(iframe);
}

//Photos logic
document.addEventListener("DOMContentLoaded", () => {
  const modal = document.createElement("div");
  modal.classList.add("photo-modal");
  modal.innerHTML = `<img src="" alt="Expanded Photo">`;
  document.body.appendChild(modal);

  const modalImg = modal.querySelector("img");

  document.querySelectorAll(".photo-item img").forEach(img => {
    img.addEventListener("click", () => {
      modalImg.src = img.src.replace("/thumbnails/", "/"); // optional if you have larger versions
      modal.classList.add("active");
    });
  });

  modal.addEventListener("click", (e) => {
    if (e.target === modal) modal.classList.remove("active");
  });
});


// Header hide/reveal logic
window.addEventListener("load", function () {
  const header = document.querySelector(".header");
  if (!header) return;

  let isMouseOverTop = false;
  const revealZoneHeight = 200; // how tall your invisible reveal zone is

  function updateHeaderVisibility() {
    const atTop = window.scrollY < 10;
    if (atTop || isMouseOverTop) {
      header.classList.remove("hidden");
    } else {
      header.classList.add("hidden");
    }
  }

  // Watch scroll position
  window.addEventListener("scroll", updateHeaderVisibility);

  // Track mouse position instead of using a div
  document.addEventListener("mousemove", (e) => {
    const y = e.clientY;
    const withinZone = y < revealZoneHeight;
    if (withinZone !== isMouseOverTop) {
      isMouseOverTop = withinZone;
      updateHeaderVisibility();
    }
  });

  // If mouse enters the header itself, keep it shown
  header.addEventListener("mouseenter", () => {
    isMouseOverTop = true;
    updateHeaderVisibility();
  });

  header.addEventListener("mouseleave", () => {
    isMouseOverTop = false;
    updateHeaderVisibility();
  });

  updateHeaderVisibility();
});


//bg title logic
  window.addEventListener('load', () => {
  const bgTitle = document.getElementById('global-bg-title');
  const sections = document.querySelectorAll('section');
  const titles = {
    'about-page': '',
    'games-page': 'Games',
    'films-page': 'Films',
    'photos-page': 'Photos'
  };

  function updateBgTitle() {
    let current = null;

    // Find which section is in view
    sections.forEach(section => {
      const rect = section.getBoundingClientRect();
      const inView = rect.top < window.innerHeight / 2 && rect.bottom > window.innerHeight / 2;
      if (inView) current = titles[section.id];
    });

    if (current !== undefined) {
      if (bgTitle.textContent !== current) {
        bgTitle.style.opacity = 0;

        setTimeout(() => {
          if (current === '') {
            bgTitle.textContent = '';
            bgTitle.style.opacity = 0;
          } else {
            bgTitle.textContent = current;

            // ðŸŸ¢ Different fonts + colors per section
            if (current === 'Games') {
              bgTitle.style.fontFamily = '"Bitcount Grid Single", sans-serif';
              bgTitle.style.color = 'rgba(255, 80, 80, 0.25)'; // red tint
            } else if (current === 'Films') {
              bgTitle.style.fontFamily = '"Inika", serif';
              bgTitle.style.color = 'rgba(120, 180, 255, 0.25)'; // soft blue
            } else if (current === 'Photos') {
              bgTitle.style.fontFamily = '"Space Mono", monospace';
              bgTitle.style.color = 'rgba(180, 255, 160, 0.25)'; // mint green
            }

            bgTitle.style.opacity = 1;
          }
        }, 300);
      }
    }
  }

  window.addEventListener('scroll', updateBgTitle);
  updateBgTitle(); // run once on load
});


//CurorTrail
window.addEventListener("load", () => {
  const canvas = document.getElementById("mouse-trail");
  const ctx = canvas.getContext("2d");

  let width = window.innerWidth;
  let height = window.innerHeight;
  canvas.width = width;
  canvas.height = height;

  window.addEventListener("resize", () => {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
  });

  const trail = [];
  const maxTrail = 60; // number of previous positions to render
  const smoothing = 0.08; // cursor smoothing factor
  const color = "rgba(255,255,255,0.3)"; // soft white glow

  let mouseX = width / 2;
  let mouseY = height / 2;
  let currentX = mouseX;
  let currentY = mouseY;


  //MouseTrail
//   document.addEventListener("mousemove", (e) => {
//     mouseX = e.clientX;
//     mouseY = e.clientY;
//   });

//   function animate() {
//   // clear each frame to prevent permanent marks
//   ctx.clearRect(0, 0, width, height);

//   // smooth follow motion
//   currentX += (mouseX - currentX) * smoothing;
//   currentY += (mouseY - currentY) * smoothing;

//   // record trail positions
//   trail.push({ x: currentX, y: currentY });
//   if (trail.length > maxTrail) trail.shift();

//   ctx.shadowColor = "rgba(255,255,255,0.6)";
//   ctx.shadowBlur = 20;

//   // draw comet
//   for (let i = 0; i < trail.length - 1; i++) {
//     const p = trail[i];
//     const next = trail[i + 1];

//     // progress from tail (0) â†’ head (1)
//     const t = i / (trail.length - 1);

//     // tail fades and narrows gradually
//     const alpha = t * 0.6; // transparency (0 = tail invisible, 0.6 = head bright)
//     const widthScale = 1 - t; // wide at head, narrow at tail

//     ctx.strokeStyle = `rgba(255,255,255,${alpha})`;
//     ctx.lineWidth = 20 * widthScale; // adjust base width for strength

//     ctx.beginPath();
//     ctx.moveTo(p.x, p.y);
//     ctx.lineTo(next.x, next.y);
//     ctx.stroke();
//   }

//   requestAnimationFrame(animate);
// }



  animate();
});



</script>
